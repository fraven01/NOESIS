{% load ui_extras %}{% if versions|length > 1 %}
<div class="mb-4">
  <label for="version-select" class="font-semibold mr-2">Version:</label>
    <select id="version-select" class="border-gray-300 dark:border-gray-600 bg-background dark:bg-background-dark text-gray-900 dark:text-gray-100 rounded p-1 focus:border-primary dark:focus:border-primary focus:ring-primary dark:focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-gray-800">
    {% for v in versions %}
      <option value="{{ v.version }}" {% if v.version == current_version %}selected{% endif %}>Version {{ v.version }}</option>
    {% endfor %}
  </select>
</div>
<div class="space-x-2 mb-4">
  {% for v in versions %}
  <form method="post" action="{% url 'delete_project_file_version' v.pk %}" class="inline">
    {% csrf_token %}
    <button type="submit" class="px-2 py-1 rounded {% btn_classes 'danger' %}" onclick="return confirm('Sind Sie sicher?')">v{{ v.version }} l√∂schen</button>
  </form>
  {% endfor %}
</div>
<script>
  document.getElementById('version-select').addEventListener('change', function(){
    const params = new URLSearchParams(window.location.search);
    params.set('version', this.value);
    window.location.search = params.toString();
  });
</script>
{% endif %}
